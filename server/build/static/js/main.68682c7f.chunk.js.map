{"version":3,"sources":["components/Chat/Chat.js","components/Join/Join.js","components/InfoBar/infoBar.js","icons/closeIcon.png","components/Input/input.js","components/Messages/Message/message.js","components/Messages/messages.js","components/TextContainer/textContainer.js","icons/onlineIcon.png","components/activeRooms/activeRooms.js","App.js","index.js"],"names":["socket","Join","useState","name","setName","room","setRoom","className","placeholder","type","onChange","event","target","value","onClick","preventDefault","to","InfoBar","href","src","alt","Input","message","setMessage","sendMessage","onKeyPress","key","Message","user","text","time","isSentByCurrentUser","trimmedName","trim","toLowerCase","format","ReactEmoji","emojify","Messages","messages","map","i","TextContainer","users","ActiveRooms","rooms","Chat","location","setUsers","setRooms","setMessages","ENDPOINT","useEffect","queryString","parse","search","io","console","log","emit","error","alert","disconnect","off","on","App","path","exact","component","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.68682c7f.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport queryString from 'query-string'\r\nimport io from 'socket.io-client'\r\n\r\nimport './chat.css'\r\nimport InfoBar from '../InfoBar/infoBar'\r\nimport Input from '../Input/input'\r\nimport Messages from '../Messages/messages'\r\nimport TextContainer from '../TextContainer/textContainer'\r\nimport ActiveRooms from '../activeRooms/activeRooms'\r\n\r\n\r\nlet socket;\r\n\r\nconst Chat = ({ location }) => {\r\n    const [name, setName] = useState('')\r\n    const [room, setRoom] = useState('')\r\n    const [users, setUsers] = useState('')\r\n    const [rooms, setRooms] = useState('')\r\n    const [message, setMessage] = useState('')\r\n    const [messages, setMessages] = useState([])\r\n    const ENDPOINT = 'localhost:5000'\r\n\r\n    useEffect(() => {\r\n        const { name, room } = queryString.parse(location.search)\r\n\r\n        socket = io(ENDPOINT)\r\n\r\n        // Sets the state variables to the room and name passed through URL\r\n        setRoom(room)\r\n        setName(name)\r\n        console.log(socket)\r\n\r\n        // Sends join event to server\r\n        socket.emit('join', { name, room }, (error) => {\r\n            if(error) {\r\n                alert(error)\r\n            }\r\n        }, [ENDPOINT, location.search])\r\n\r\n        // Upon un-mount, sends disconnect event to server and turns socket off. \r\n        return () => {\r\n            socket.disconnect()\r\n            socket.off()\r\n        }\r\n    }, [ENDPOINT, location.search])\r\n\r\n    useEffect(() => {\r\n        // Listening for messages, room counts and active rooms\r\n        socket.on('message', (message)=> {\r\n            setMessages(messages => [...messages, message])\r\n        })\r\n\r\n        socket.on('roomData', ({ users })=> {\r\n            setUsers(users)\r\n        })\r\n\r\n        socket.on('allRooms', ({ rooms })=> {\r\n            setRooms(rooms)\r\n            console.log(rooms)\r\n        })\r\n\r\n        return () => {\r\n            // turns off socket upon un-mount\r\n            socket.off()\r\n        }\r\n    },[room])\r\n\r\n\r\n    // function for sending messages\r\n\r\n    const sendMessage = (event) => {\r\n        event.preventDefault()\r\n\r\n        if(message){\r\n        socket.emit('sendMessage', { message }, () => setMessage(''))}\r\n    }\r\n\r\n    return (\r\n        <div className=\"outerContainer\">\r\n            <ActiveRooms\r\n            name={ name }\r\n            rooms={ rooms }\r\n            setRoom={ setRoom }\r\n            >\r\n\r\n            </ActiveRooms>\r\n            <div className=\"container\">\r\n                <InfoBar \r\n                room={ room }\r\n                />\r\n                <Messages\r\n                messages={ messages }\r\n                name= { name }\r\n                />\r\n                <Input \r\n                message={ message }\r\n                setMessage= { setMessage }\r\n                sendMessage= { sendMessage }\r\n                />\r\n            </div>\r\n            <TextContainer \r\n            users={ users }\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Chat","import React, { useState }  from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport './join.css'\r\n\r\nconst Join = () => {\r\n    const [name, setName] = useState('')\r\n    const [room, setRoom] = useState('')\r\n\r\n    return (\r\n        <div className=\"joinOuterContainer\">\r\n            <div className=\"joinInnerContainer\">\r\n                <h1 className=\"heading\">RyanChat</h1>\r\n                <div><input placeholder=\"Name\" \r\n                className=\"joinInput\" \r\n                type=\"text\" \r\n                onChange={(event) => setName(event.target.value)} \r\n                /></div>\r\n                <div><input placeholder=\"Room\" \r\n                className=\"joinInput mt-20\" \r\n                type=\"text\" \r\n                onChange={(event) => setRoom(event.target.value)} \r\n                /></div>\r\n                <Link \r\n                onClick={event => (!name || !room) ? event.preventDefault() : null} to={`./chat?name=${name}&room=${room}`}\r\n                >\r\n                <button\r\n                className=\"button mt-20\" type=\"submit\"\r\n                >Join</button>\r\n                </Link>\r\n            </div>\r\n        </div>\r\n        \r\n        \r\n    )\r\n}\r\n\r\nexport default Join","import React from 'react'\r\n\r\nimport closeIcon from './../../icons/closeIcon.png'\r\n\r\nimport './infoBar.css'\r\n\r\nconst InfoBar = ({ room }) => (\r\n    <div className=\"infoBar\">\r\n        <div className=\"leftInnerContainer\">\r\n            {/* <img className=\"onlineIcon\" src={onlineIcon} /> */}\r\n        <h3 className=\"roomHeader\">{room} room</h3>\r\n        </div>\r\n        <div className=\"rightInnerContainer\">\r\n            <a href=\"/\"><img src={closeIcon} alt=\"close\" /></a>\r\n        </div>\r\n    </div>\r\n    )\r\n\r\nexport default InfoBar","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAHBJREFUGBmNkAEKwCAMA2VfGP2mrx3sOV2us6IymIXQGlNTW9zdhCqcZQm4dmelFUp+CZZa6sYpeUVIFyIixMqjCO51Wy5unQExuYSbSF5JASLqPsqRM21lOoWc89tagr3PSMgOiWlwnUeXWA/E78IfuAX270S3ydAAAAAASUVORK5CYII=\"","import React from 'react'\r\n\r\nimport './Input.css'\r\n\r\nconst Input = ({ message, setMessage, sendMessage }) => (\r\n    <form className=\"form\">\r\n        <input\r\n        className=\"input\"\r\n        type=\"text\"\r\n        placeholder=\"Type a message...\"\r\n        value={ message }\r\n        onChange={ (event) => setMessage(event.target.value) }\r\n        onKeyPress={ event => event.key === 'Enter' ? sendMessage(event) : null }\r\n        />\r\n        <button \r\n        className=\"sendButton\" \r\n        onClick={ (event) => sendMessage(event) }\r\n        >Send</button>\r\n    </form>\r\n    )\r\n\r\nexport default Input","import React from 'react'\r\nimport ReactEmoji from 'react-emoji'\r\nimport DayJS from 'react-dayjs'\r\n\r\nimport './Message.css'\r\n\r\nconst Message = ({ message: { user, text, time }, name }) => {\r\n    let isSentByCurrentUser = false\r\n\r\n    const trimmedName = name.trim().toLowerCase()\r\n\r\n    if(user === trimmedName) {\r\n        isSentByCurrentUser = true \r\n    }\r\n\r\n    return (\r\n        isSentByCurrentUser\r\n        ? (\r\n            <div className=\"messageContainer sentByUser\">\r\n                <p className=\"sentTime\"><DayJS format=\"HH:mm\">{ time }</DayJS></p>\r\n                <div className=\"messageBox backgroundBlue\">\r\n        <p className=\"messageText colorWhite\">{ ReactEmoji.emojify(text) }</p>\r\n                </div>\r\n                <p className=\"sentText\">{ trimmedName }</p>\r\n            </div>\r\n        )\r\n        : (\r\n            <div className=\"messageContainer sentByOther\">\r\n                <p className=\"sentText sentByOther\">{ user }</p>\r\n                <div className=\"messageBox sentByOther\">\r\n                    <p className=\"messageText sentByOther\">{ ReactEmoji.emojify(text) }</p>\r\n                </div>\r\n                <p className=\"sentTime\"><DayJS format=\"HH:mm\">{ time }</DayJS></p>\r\n            </div>\r\n        )\r\n    )\r\n}\r\n\r\nexport default Message","import React from 'react'\r\nimport ScrollToBottom from 'react-scroll-to-bottom'\r\n\r\nimport './Messages.css'\r\nimport Message from './Message/message'\r\n\r\nconst Messages = ({ messages, name }) => (\r\n    <ScrollToBottom className=\"messages\">\r\n        { messages.map((message, i) => \r\n        <div>\r\n            <Message \r\n            message={ message }\r\n            name={ name }\r\n            key={ i }\r\n            />\r\n        </div>\r\n        )}\r\n    </ScrollToBottom>\r\n    )\r\n\r\nexport default Messages","import React from 'react'\r\n\r\nimport './TextContainer.css'\r\nimport onlineIcon from './../../icons/onlineIcon.png'\r\n\r\nconst TextContainer = ({ users }) => (\r\n    <div className=\"textContainer\">\r\n        <div className=\"headerText\">\r\n            <h1>RyanChat</h1>\r\n            <h2>Real-Time Chat App</h2>\r\n            <h2>Built with React, Express, Node, and Socket.io</h2>\r\n        </div>\r\n        { \r\n        users \r\n        ? (\r\n            <div>\r\n                <h1>People in This Room:</h1>\r\n                <div className=\"activeContainer\">\r\n                    <h2>\r\n                        { users.map(({ name }) => (\r\n                            <div key={ name }\r\n                            className=\"activeItem\">\r\n                                { name }\r\n                                <img alt=\"Online icon\" src={ onlineIcon } />\r\n                            </div>\r\n                        ))}\r\n                    </h2>\r\n                    </div>\r\n            </div>\r\n        )\r\n        : null\r\n    }\r\n    </div>\r\n)\r\n\r\nexport default TextContainer","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAAXNSR0IArs4c6QAAAExJREFUCB1jbPh/le3lx5tNDIwMcQwg8J9hkTi/eh0LWJCBoRwoAAPlQDEGJrhKmDCIBupmQuYjs5lAZiILgNlAMRaQRSAz4UZCLQcAIwYaiAejKoYAAAAASUVORK5CYII=\"","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport './ActiveRooms.css'\r\n\r\nconst ActiveRooms = ({ name, rooms, setRoom }) => (\r\n    <div className=\"textContainer\">\r\n    { \r\n        rooms\r\n        ? (\r\n            <div>\r\n                <h1>Rooms with Active Users:</h1>\r\n                <div className=\"roomContainer\">\r\n                    <h2>\r\n                        { rooms.map((room) => (\r\n                            <div key={ room }\r\n                            className=\"activeItem\">\r\n                                { room }\r\n                                    <Link\r\n                                    to={`./chat?name=${name}&room=${room}`}\r\n                                    onClick={() => setRoom()}\r\n                                    >\r\n                                    <button\r\n                                    className=\"join-button\" type=\"submit\"\r\n                                    >Join</button>\r\n                                    </Link>\r\n                            </div>\r\n                            \r\n                        ))}\r\n                    </h2>\r\n                    </div>\r\n            </div>\r\n        )\r\n        : null\r\n    }\r\n    </div>\r\n)\r\n\r\nexport default ActiveRooms","import React from 'react'\r\nimport { BrowserRouter as Router, Route } from 'react-router-dom'\r\n\r\nimport Join from './components/Join/Join'\r\nimport Chat from './components/Chat/Chat'\r\n\r\nconst App = () => (\r\n    <Router>\r\n        <Route path=\"/\" exact component={ Join } />\r\n        <Route path=\"/chat\" component ={ Chat } />\r\n    </Router>\r\n)\r\n\r\nexport default App","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\n\r\nimport App from './App'\r\n\r\n\r\nReactDOM.render(<App />, document.querySelector('#root'))"],"sourceRoot":""}